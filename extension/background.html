<html>
<head>
<script src="js/analytics.js"></script>
<script type="text/javascript">
	// Global accessor that the popup uses.
	var selectedTabId = null;
	var selectedWindowId = null;

	console.log('background.html');

	chrome.browserAction.onClicked.addListener(function(tab) {

		if (selectedTabId != null) {
			chrome.tabs.remove(selectedTabId);
			selectedTabId = null;
		}

		if (selectedTabId == null) {
			chrome.tabs.create({
				'url' : 'showmanager.html'
			}, openExtensionManager);
		} else {
			chrome.tabs.update(selectedTabId, {
				selected : true
			}, refreshExtensionManager);
		}

	});

	function refreshExtensionManager(tab) {
		selectedTabId = tab.id;
		console.log('openExtensionManager');
		console.log(tab);

	};
	function openExtensionManager(tab) {
		selectedTabId = tab.id;
		console.log('openExtensionManager');
		console.log(tab);

	};
</script>

</head>
<body>

	<div id="extensions"></div>

</body>
</html>